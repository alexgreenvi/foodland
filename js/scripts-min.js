$(document).ready(function(){_resize.init(),header_fix.init(),$(".slider__carousel").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,autoplay:!0,autoplaySpeed:3e3,dots:!0,dotsClass:"dots"}),$(".recommendation-carousel").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",responsive:[{breakpoint:1200,settings:{slidesToShow:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".popular__carousel").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",responsive:[{breakpoint:990,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".recommendation-slider").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,variableWidth:!0,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",responsive:[{breakpoint:990,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".random__carousel").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='random__arrows random__arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='random__arrows random__arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>"}),$(".clients__carousel").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",responsive:[{breakpoint:990,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".category-carousel").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",responsive:[{breakpoint:1200,settings:{slidesToShow:4}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:758,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".tm-carousel__carousel").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",vertical:!0}),$(".tm-carousel-horizontal__carousel").slick({infinite:!0,slidesToShow:6,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",responsive:[{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:640,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".analog-carousel__carousel").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",vertical:!0}),$(".block-product-img__carousel").slick({infinite:!0,slidesToShow:4,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>"}),$(".product-use-carousel_4__carousel").slick({infinite:!0,slidesToShow:4,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='arrows arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='arrows arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>",responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:758,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".product-use-carousel__carousel").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:"<svg class='random__arrows random__arrows--prev' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'/></svg>",nextArrow:"<svg class='random__arrows random__arrows--next' width='42' height='42' viewBox='0 0 477.175 477.175'><path d='M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z'/></svg>"}),$(".header__nav-btn").on("click",function(){$(this).closest(".header").find(".header__modal").toggleClass("active")}),$(".header__modal__close").on("click",function(){$(this).closest(".header__modal").removeClass("active")})});var _resize={init:function(){this.width=0,this.arElements=$("[data-resize]"),this.arResize=[],this.load()},load:function(){this.arElements.each(function(e,t){_resize.arResize[e]=[t]}),this.resize(),$(window).resize(this.resize)},resize:function(){_resize.width=$(document).width()+5;for(var e in _resize.arResize){var t=_resize.arResize[e],s=$(t).attr("data-resize"),o=$(t).attr("data-resize-width"),i=$("[data-resize="+s+"]"),a=$("[data-resize-after="+s+"]");if($(a).children().length,_resize.width<o){var n=i.children();n.detach(),a.prepend(n)}else{var n=a.children();n.detach(),i.prepend(n)}}}},header_fix={init:function(){var e=$(".header");$(window).scroll(function(){$(this).scrollTop()>100?$(".header").addClass("fixed"):$(this).scrollTop()<100&&$(".header").removeClass("fixed")})}};$(document).ready(function(){$(".icon").hover(function(){var e=$(this).data("number");$('.icon[data-number="'+e+'"]').addClass("hover"),$(this).mouseout(function(){$('.icon[data-number="'+e+'"]').removeClass("hover")})}),$(".icon").on("click",function(){var e=$(this).data("number");$('[data-number="'+e+'"]').hasClass("active")?$('[data-type="piece"]').removeClass("active"):($('[data-type="piece"]').removeClass("active"),$('[data-number="'+e+'"]').addClass("active")),$('[data-cheese="content"]').removeClass("active"),$('[data-cheese-index="'+e+'"]').addClass("active")})}),$(document).ready(function(){var e=0,t=1,s=0;$(".circle").on("click",function(){var o=$(this),i=o.attr("data-index");3==t&&1==i&&(e-=120),3==t&&2==i&&(e+=120),2==t&&1==i&&(e+=120),2==t&&3==i&&(e-=120),1==t&&2==i&&(e-=120),1==t&&3==i&&(e+=120),anime({targets:"#spinner .rotate-wrap",rotate:e+"deg",duration:0,easing:"easeInOutSine"}),t!=i&&(3==t&&1==i&&(s-=-120),3==t&&2==i&&(s+=-120),2==t&&1==i&&(s+=-120),2==t&&3==i&&(s-=-120),1==t&&2==i&&(s-=-120),1==t&&3==i&&(s+=-120),anime({targets:".circle",rotate:+s+"deg",duration:50,easing:"easeInOutSine"})),t=i,$(".circle").removeClass("active"),o.addClass("active"),$('[data-spinner="content"]').removeClass("active"),$('[data-index="'+i+'"]').addClass("active")})}),function(){[].slice.call(document.querySelectorAll("select.cs-select")).forEach(function(e){new SelectFx(e)})}(),$(document).ready(function(){var e=$(".route__by"),t=$(".route__by_foot"),s=$(".route__by_car"),o=$(".route__by_public"),i=$(".route__metro"),a=$(".route__metro_ts"),n=$(".route__metro_yz"),l=$("iframe");a.click(function(){a.hasClass("active")||(i.removeClass("active"),a.addClass("active"),t.hasClass("active")?l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDeBC6gB"):s.hasClass("active")?l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDe4glcC"):l.attr("src","https://yandex.ru/map-widget/v1/-/CBUD4SfGlD"))}),n.click(function(){n.hasClass("active")||(i.removeClass("active"),n.addClass("active"),t.hasClass("active")?l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDiSAKXA"):s.hasClass("active")?l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDiWeDCB"):l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDiWT01A"))}),t.click(function(){t.hasClass("active")||(e.removeClass("active"),t.addClass("active"),a.hasClass("active")?l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDeBC6gB"):l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDiSAKXA"))}),s.click(function(){s.hasClass("active")||(e.removeClass("active"),s.addClass("active"),a.hasClass("active")?l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDe4glcC"):l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDiWeDCB"))}),o.click(function(){o.hasClass("active")||(e.removeClass("active"),o.addClass("active"),a.hasClass("active")?l.attr("src","https://yandex.ru/map-widget/v1/-/CBUD4SfGlD"):l.attr("src","https://yandex.ru/map-widget/v1/-/CBUDiWT01A"))})}),ymaps.ready(function(){geoMap=new ymaps.Map("map",{center:[62.788252602236476,88.50848728079634],type:"yandex#map",controls:[],zoom:2});var e=0;e&&geoMap.geoObjects.remove(e),ymaps.regions.load("RU",{lang:"ru",quality:0}).then(function(t){e=t.geoObjects,e.options.set("fillColor","#fff145"),e.options.set("preset",{strokeWidth:1,strokeColor:"ffd13b"}),e.each(function(e){switch(e.properties.get("osmId")){case"191706":e.options.set("fillColor","#159d40"),e.options.set("preset",{strokeWidth:1,strokeColor:"0f7120"});break;case"190090":e.options.set("fillColor","#159d40"),e.options.set("preset",{strokeWidth:1,strokeColor:"0f7120"});break;case"145454":e.options.set("fillColor","#159d40"),e.options.set("preset",{strokeWidth:1,strokeColor:"0f7120"});break}}),geoMap.geoObjects.add(e),MapBalloonLayout=ymaps.templateLayoutFactory.createClass('<div class="map-balloon"><a class="map-balloon__close" href="#">&#9587;</a><div class="map-balloon__arrow"></div><div class="map-balloon__inner">$[[options.contentLayout observeSize minWidth=235 maxWidth=235 maxHeight=350]]</div></div>',{build:function(){this.constructor.superclass.build.call(this),this._$element=$(".map-balloon",this.getParentElement()),this.applyElementOffset(),this._$element.find(".map-balloon__close").on("click",$.proxy(this.onCloseClick,this))},clear:function(){this._$element.find(".map-balloon__close").off("click"),this.constructor.superclass.clear.call(this)},onSublayoutSizeChange:function(){MapBalloonLayout.superclass.onSublayoutSizeChange.apply(this,arguments),this._isElement(this._$element)&&(this.applyElementOffset(),this.events.fire("shapechange"))},applyElementOffset:function(){this._$element.css({left:-this._$element[0].offsetWidth/2,top:-(this._$element[0].offsetHeight+this._$element.find(".map-balloon__arrow")[0].offsetHeight)})},onCloseClick:function(e){e.preventDefault(),this.events.fire("userclose")},getShape:function(){if(!this._isElement(this._$element))return MapBalloonLayout.superclass.getShape.call(this);var e=this._$element.position();return new ymaps.shape.Rectangle(new ymaps.geometry.pixel.Rectangle([[e.left,e.top],[e.left+this._$element[0].offsetWidth,e.top+this._$element[0].offsetHeight+this._$element.find(".map-balloon__arrow")[0].offsetHeight]]))},_isElement:function(e){return e&&e[0]&&e.find(".map-balloon__arrow")[0]}}),MapBalloonContentLayout=ymaps.templateLayoutFactory.createClass('<div class="map-balloon__inner__content">$[properties.balloonContent]</div>'),placemarkFactory=new ymaps.Placemark([55.61414730895103,37.47190599999999],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/fact-sh.png",iconImageSize:[41,37]}),placemarkFactory2=new ymaps.Placemark([64.9614028569075,62.40949755273436],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/fact-sh.png",iconImageSize:[41,37]}),placemarkFactory3=new ymaps.Placemark([58.55266732499611,84.33820849023435],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/fact-sh.png",iconImageSize:[41,37]}),placemarkFactory4=new ymaps.Placemark([58.73593601918061,67.15559130273435],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/fact-sh.png",iconImageSize:[41,37]}),placemarkFactory5=new ymaps.Placemark([58.09025713015575,55.20246630273436],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/fact-sh.png",iconImageSize:[41,37]}),placemarkOffice=new ymaps.Placemark([52.9244134978265,39.64582567773435],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/office-sh.png",iconImageSize:[41,37]}),placemarkFilial=new ymaps.Placemark([47.786119567765326,40.524731927734344],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/filial-sh.png",iconImageSize:[41,37]}),placemarkFilial2=new ymaps.Placemark([51.58964143433744,45.138989740234344],{balloonContent:"142771, Москва, пос. Мосрентген, ПП «Автострой»"},{balloonShadow:!1,balloonLayout:MapBalloonLayout,balloonContentLayout:MapBalloonContentLayout,iconLayout:"default#image",iconImageHref:"../images/icons/filial-sh.png",iconImageSize:[41,37]}),geoMap.geoObjects.add(placemarkFactory).add(placemarkFactory2).add(placemarkFactory3).add(placemarkFactory4).add(placemarkFactory5).add(placemarkOffice).add(placemarkFilial).add(placemarkFilial2)},function(){}),ymaps.modules.require("RS.RegionSelector",function(e){new e(geoMap,$("#sidebar ul"),$("#settings div"),$("#header"))}),function(e){var t={modules:e.ymaps.modules};!function(e){var t={DEBUG:!1};if(void 0===e&&"function"==typeof require)var e=require("ym");e.define("util.providePackage",["system.mergeImports"],function(e,t){e(function(e,s){var o=s[0],i=Array.prototype.slice.call(s,1);o(t.joinImports(e.name,{},e.deps,i))})})}(t.modules),t.modules.define("RS.MaskOverlay",["util.defineClass","overlay.Polygon","geometry.pixel.Polygon"],function(e,t,s,o){var i=t(function(e,t,s){i.superclass.constructor.call(this,e,t,s)},s,{setGeometry:function(e){i.superclass.setGeometry.call(this,this.getMap()?this._createGeometry(e):e)},_createGeometry:function(e){var t=e.getCoordinates().slice(0),s=this.getMap(),i=s.getGlobalPixelCenter(),a=s.container.getSize(),n=512;return t.push([[i[0]-a[0]-n,i[1]-a[1]-n],[i[0]+a[0]+n,i[1]-a[1]-n],[i[0]+a[0]+n,i[1]+a[1]+n],[i[0]-a[0]-n,i[1]+a[1]+n],[i[0]-a[0]-n,i[1]-a[1]-n]]),new o(t,"evenOdd")}});e(i)}),t.modules.define("RS.ListView",["util.defineClass"],function(e,t){e(t(function(e){this._container=e,this._template='<li><a href="#">%s</a></li>',this._activeItem=null,this.events=$({})},{render:function(e){return e.get("regions").each(this._onEveryRegion,this),this._sortItems(),this._attachHandlers(),this},clear:function(){return this._detachHandlers(),this._container.empty(),this},_sortItems:function(){this._container.append(this._container.children().sort(function(e,t){return $(e).find("a").text()>$(t).find("a").text()?1:-1}))},_attachHandlers:function(){this._container.on("click","li",$.proxy(this._onItemSelected,this))},_detachHandlers:function(){this._container.off("click")},_onItemSelected:function(e){e.preventDefault();var t=$(e.currentTarget).data("index");this.unsetActiveItem().setActiveItem(t),this.events.trigger($.Event("itemselected",{itemIndex:t}))},setActiveItem:function(e){return this._activeItem=this._findItem(e).addClass("active"),this},unsetActiveItem:function(){return this._activeItem&&(this._activeItem.removeClass("active"),this._activeItem=null),this},scrollToItem:function(e){var t=this._findItem(e),s=t.offset().top-this._container.offset().top;return this._container.parent().scrollTop(s),this},_findItem:function(e){return this._container.children().filter(function(){return $(this).data("index")==e})},_onEveryRegion:function(e,t){this._container.append($(this._template.replace("%s",e.properties.get("hintContent"))).data("index",t))}}))}),t.modules.define("RS.MapMaskView",["util.defineClass","geometry.Polygon","RS.MaskOverlay"],function(e,t,s,o){e(t(function(e){this._map=e,this._overlay=null,this._geometry=null},{render:function(e){var t=[];return e.get("regions").each(function(e){t.push.apply(t,e.geometry.getCoordinates())}),this._createGeometry(t),this._createOverlay(this._geometry.getPixelGeometry()),this._attachHandlers(),this},clear:function(){return this._geometry&&(this._detachHandlers(),this._geometry.setMap(null),this._overlay.setMap(null)),this._geometry=this._overlay=null,this},_attachHandlers:function(){this._geometry.events.add("pixelgeometrychange",this._onPixelGeometryChange,this),this._map.events.add("boundschange",this._onBoundsChange,this)},_detachHandlers:function(){this._map.events.remove("boundschange",this._onBoundsChange,this),this._geometry.events.remove("pixelgeometrychange",this._onPixelGeometryChange,this)},_onPixelGeometryChange:function(e){this._createOverlay(e.get("pixelGeometry"))},_onBoundsChange:function(e){e.get("oldZoom")!==e.get("newZoom")&&this._createOverlay(this._geometry.getPixelGeometry())},_createGeometry:function(e){this._geometry=new s(e,"evenOdd",{projection:this._map.options.get("projection")}),this._geometry.setMap(this._map)},_createOverlay:function(e){this._overlay||(this._overlay=new o(e,null,this.getDefaults())),this._overlay.setMap(this._map),this._overlay.setGeometry(e)},getDefaults:function(){return{zIndex:1,stroke:!1,strokeColor:!1,fillColor:"fff"}}}))}),t.modules.define("RS.MapView",["util.defineClass","util.bind","event.Manager"],function(e,t,s,o){var i="rgba(0,102,255,0.6)",a="rgba(255,153,153,1)";e(t(function(e){this._map=e,this._regions=null,this._activeItem=null,this.events=new o},{_attachHandlers:function(){this._regions.events.add("click",this._onClick,this),this._regions.events.add("mouseenter",this._onMouseEnter,this)},_detachHandlers:function(){this._regions.events.remove("mouseenter",this._onMouseEnter,this),this._regions.events.remove("click",this._onClick,this)},_onClick:function(e){var t=e.get("target"),s=this._regions.indexOf(t);this.unsetActiveItem().setActiveItem(s),this.events.fire("itemselected",{index:s})},render:function(e){return this._map.geoObjects.add(this._regions=e.get("regions")),this.setFocusOnRegions(),this._regions.options.set({zIndex:1,zIndexHover:1,fillColor:i,strokeColor:i,strokeWidth:1}),this._attachHandlers(),this},clear:function(){return this._regions&&(this._detachHandlers(),this._map.geoObjects.remove(this._regions),this._regions=null,this._activeItem=null),this},setActiveItem:function(e){return(this._activeItem=this._regions.get(e)).options.set({fillColor:a,strokeColor:a}),this},unsetActiveItem:function(){return this._activeItem&&(this._activeItem.options.set({fillColor:i,strokeColor:i}),this._activeItem=null),this},setFocusOnRegion:function(e){return this._map.setBounds(this._regions.get(e).geometry.getBounds(),{checkZoomRange:!0}),this},setFocusOnRegions:function(){return this._map.options.set("restrictMapArea",!1),this._map.setBounds(this._regions.getBounds(),{callback:s(function(){this._map.options.set("restrictMapArea",this._map.getBounds())},this)}),this}}))}),t.modules.define("RS.Model",["util.defineClass","util.bind","Monitor","option.Manager","event.Manager","regions"],function(e,t,s,o,i,a,n){e(t(function(){this.events=new a,this.options=new i({preset:this.getDefaults()}),this._monitor=new o(this.options),this._setupMonitor()},{_setupMonitor:function(){this._monitor.add(["country","lang","quality"],function(e,t){e.country!==t.country&&this.options.unset("lang"),this.load()},this,this.getDefaults())},_clearMonitor:function(){this._monitor.removeAll()},load:function(){n.load(this.options.get("country"),{lang:this.options.get("lang"),quality:this.options.get("quality")}).then(s(this._onDataLoaded,this))},_onDataLoaded:function(e){this.events.fire("load",{regions:e.geoObjects,target:this})},getDefaults:function(){return{country:"RU",lang:"ru",quality:0}}}))}),t.modules.define("RS.OptsView",["util.defineClass"],function(e,t){var s={country:{label:"Страна",values:{RU:"Россия",UA:"Украина",BY:"Белоруссия",KZ:"Казахстан"}},lang:{label:"Язык",RU:{label:"Язык",values:{ru:"русский"}},UA:{label:"Язык",values:{uk:"украинский",ru:"русский"}},BY:{label:"Язык",values:{be:"белорусский",ru:"русский"}},KZ:{label:"Язык",values:{ru:"русский"}}},quality:{label:"Уровень качества",values:["низкий","средний","высокий","максимальный"]}};e(t(function(e){this._container=e,this._btnTemplate=['<div class="btn-group">','<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">',"%s",'&nbsp;<span class="caret"></span>',"</a>",'<ul class="dropdown-menu"></ul>',"</div>"].join(""),this._itemTemplate='<li><a href="#">%s</a></li>',this._activeIconTemplate='<i class="icon-ok"></i>',this.events=$({})},{render:function(e){var t=e.get("regions").properties.getAll();for(var o in s){var i="lang"===o?s[o][t.country]:s[o],a=$(this._btnTemplate.replace("%s",i.label));for(var n in i.values){var l=i.values[n],r=$(this._itemTemplate.replace("%s",l)).data(o,n);t[o]==n&&r.find("a").prepend(this._activeIconTemplate),a.find("ul").append(r)}this._container.append(a)}return this._attachHandlers(),this},clear:function(){return this._detachHandlers(),this._container.empty(),this},_attachHandlers:function(){this._container.on("click","li",$.proxy(this._onItemClick,this))},_detachHandlers:function(){this._container.off()},_onItemClick:function(e){e.preventDefault();var t=$(e.currentTarget);this.unsetActiveItem(t.parent()).setActiveItem(t),this.events.trigger($.Event("optionschange",{options:t.data()}))},setActiveItem:function(e){return e.find("a").prepend($(this._activeIconTemplate)),this},unsetActiveItem:function(e){return e.find(".icon-ok").remove(),this}}))}),t.modules.define("RS.TitleView",["util.defineClass"],function(e,t){e(t(function(e){this._container=e,this._template='<p><a href="#">%s</a></p>',this.events=$({})},{render:function(e){var t=e.get("regions").properties.get("hintContent");return this._container.append(this._template.replace("%s",t)),this._attachHandlers(),this},clear:function(){return this._detachHandlers(),this._container.empty(),this},_attachHandlers:function(){this._container.on("click","a",$.proxy(this._onTitleClick,this))},_detachHandlers:function(){this._container.off("click")},_onTitleClick:function(e){e.preventDefault(),this.events.trigger($.Event("titleclick"))}}))}),t.modules.define("RS.RegionSelector",["util.defineClass","RS.Model","RS.OptsView","RS.TitleView","RS.MapView","RS.MapMaskView","RS.ListView"],function(e,t,s,o,i,a,n,l){e(t(function(e,t,r,c){this._model=new s,this._views=[this._listView=new l(t),this._optsView=new o(r),this._titleView=new i(c),this._mapView=new a(e),this._mapMaskView=new n(e)],this._attachHandlers(),this._model.load()},{_attachHandlers:function(){this._model.events.add("load",this._onRegionsLoaded,this),this._mapView.events.add("itemselected",this._onMapItemSelected,this),this._listView.events.on("itemselected",$.proxy(this._onListItemSelected,this)),this._optsView.events.on("optionschange",$.proxy(this._onOptionsChange,this)),this._titleView.events.on("titleclick",$.proxy(this._onTitleClick,this))},_detachHandlers:function(){this._titleView.events.off(),this._optsView.events.off(),this._listView.events.off(),this._mapView.events.remove("regionselected",this._onRegionSelected,this),this._model.events.remove("load",this._onRegionsLoaded,this)},_onRegionsLoaded:function(e){for(var t=0,s=this._views.length;t<s;t++)this._views[t].clear().render(e)},_onMapItemSelected:function(e){var t=e.get("index");this._listView.unsetActiveItem().setActiveItem(t).scrollToItem(t)},_onListItemSelected:function(e){var t=e.itemIndex;this._mapView.unsetActiveItem().setActiveItem(t).setFocusOnRegion(t)},_onTitleClick:function(e){this._mapView.unsetActiveItem().setFocusOnRegions(),this._listView.unsetActiveItem()},_onOptionsChange:function(e){this._model.options.set(e.options)}}))})}(this)});